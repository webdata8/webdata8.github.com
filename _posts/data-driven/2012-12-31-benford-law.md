---
layout: post
title: 你网站的页面平均停留时间数据有服从本福特分布定律吗？
description:
heading: 你网站的页面平均停留时间数据有服从本福特分布定律吗？
category: data-driven
publish: true
published: true
datePublished: 2012-12-31T00:00:00.000Z
dateModified:
date: 2012-12-31
---

这里不知道大家听说过本福特定律吗？简单地说就是在实际生活得出的b进位制数据中，以数n（n从1到b-1）起头的数出现的机率为logb(n+1)-logb(n)，而在我们常用的十进制数据中，自然产生的任何一个数据的第一个数字n出现的概率大致log10(1+1/n) ，n从1到9。也有人叫做本福特法则（Benford law），百度百科就有详细的说明和背景知识。

很多科学家和研究者都通过大量的生活例子去检验和证实这个分布定律，比如物理学上的数据，NBA篮球的数据等，最典型的就是通过这个分布定律去检验一些财务报表上的数字是否有假账作弊的嫌疑。事实上，本福特定律也是自然语言统计学的三大定律之一，而这些到底可以不可以用于网站数据的分析呢？通过一些网站的数据提取，我发现了页面平均停留时间是很接近这个曲线的，严格地说是某一个网站的某连续阶段时间内所有页面平均停留时间（秒）的十进制首位数字服从本福德分布。

<amp-img src="/assets/img/post/Benford.jpg" width="533" height="321"></amp-img>

注：这是我测试过的所有网站中最接近的一张图了。

接下来我就介绍下数据的验证流程吧。

首先，数据要有一定的样本量，这取决你网站的页面数，我想至少也要有几千以上的页面，这样每一个页面对应一个平均停留时间。选择一段连续的时间，比如1个月或1季度，这个取决你网站的流量，有的网站选择一星期的就有上万条数据了。还有一个要求就是你的网站最好是有过滤一些内部IP访问和机器人访问的非原始数据。

接下来，可以提取数据了，如果你的网站分析工具是Google Analytics，你可以到内容报告底下的所有页面报表里面，然后选择一个时间段，记得先把平均停留时间为0的过滤掉。选择下面下拉菜单的500选项，这样你可以一次性看到500行数据了，这时候浏览器的URL最后会有table.rowCount%3D500/，只要把500改为你要的数字就可以了，比如10000，然后下载到CSV里面。如果还要更多的数据，在没有API的条件下可以通过一些Excel插件去获取。

如果你的网站是Omniture来跟踪的，就真的很方便些了。类似地，到网站内容的页面报表里面把Average Time Spent on Page拉到报表里面去，然后选择时间段点击下载。或者直接到Data Warehouse去导数据，要多少就有多少。

如果你的网站是其他网站分析工具也是如法炮制，比如百度统计目前好像导出的条数有限，也还没有API支持。

将数据导入Excel之后，会发现有的页面平均停留时间是像00:01:53这样的，这时候你将这些时间格式的数据粘贴到另一列为数值格式，然后再乘以86400就可以得到具体多少秒了。然后通过Left函数取出这些数据的首位数字，这样一来通过数据透视表就能够解决了。最后就可以比较下两条曲线的吻合情况了。如果你还有兴趣，可以通过一些工具像SPSS去检验服从分布的概率情况，肯定是很接近1的。

结束语：当初在对网站做数据分析的时候，经常会检验他们的分布，一般都会是幂分布。而也没有想去用前面所提到的自然语言三大定律。而凑巧有次我们的一个中文站投导航站的广告的时候发现停留时间都是1秒钟和0秒钟，而跳出率太高了99.99%，当然跳出的落地页面是不会有页面停留时间的（一些WA工具的局限性），所以我就想考虑下这些流量访问的页面的情况，自然而然肯定都是0秒或者1秒。于是我就考虑说是不是能够砍下网站所有有平均停留时间的页面的分布情况，发现竟然是log10（n+1）-log10（n）的类似，也就是本福特定律。所以我个人觉得这是不是可以来检查你网站的健康情况呢？当然不知道你们的网站是否有这样的规律？至少我接触过好些个站点都是这样的。所以，大家快去试下吧，总之一句话，数据规律性太多，试了才知道。如果你找到其他的指标也有相似的规律，记得分享哦。

注：所有文章及图片版权归网站数据吧（WebData8.com）所有。转载请注明出处“<a href="/">Webdata8网站分析</a>”。
